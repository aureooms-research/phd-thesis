\chapter{3SUM}

\todo{Give at least one paragraph per citation on 3SUM.}

The 3SUM problem is defined as follows: given $n$ distinct real numbers, decide
whether any three of them sum to zero.
%
\input{text/definition/3sum}
%
A popular conjecture is that no $O(n^{2-\delta})$-time algorithm for 3SUM
exists, for any $\delta > 0$. This conjecture has been used to show conditional
lower bounds for problems in P, notably in computational geometry with problems
such as
GeomBase, general position~\cite{GO95}
and
Polygonal Containment~\cite{BH01},
and more recently for string problems such as
Local Alignment~\cite{AVW14}
and
Jumbled Indexing~\cite{ACLL14},
as well as
dynamic versions of graph problems~\cite{P10,AV14},
triangle enumeration and Set Disjointness~\cite{KPP16}.
%
For this reason, 3SUM is considered one of the key subjects of an
emerging theory of complexity-within-P, along with other problems such as
all-pairs shortest paths,
orthogonal vectors,
boolean matrix multiplication,
and conjectures such as
the Strong Exponential Time Hypothesis~\cite{AVY15,HKNS15,CGIMPS16}.

%The seminal paper by Gajentaan and Overmars~\cite{GO95} showed the crucial role
%of 3SUM in understanding the complexity of several problems in
%computational geometry.
%Since then, there has been an enormous amount of work focusing on the complexity of
%3SUM and this problem is now considered a key tool of
%complexity-within-P~\cite{GO95,BH99,MO01,BDP08,P10,ACLL14,AVW14,GP18,KPP14,ALW14,AWY15,CL15}.
%The current conjecture is that no $O(n^{2-\delta})$-time algorithm exists for 3SUM.

Because fixing two of the numbers $a$ and $b$ in a triple only allows for one
solution to the equation $a + b + x = 0$, an instance of 3SUM has at most
$n^2$ degenerate triples. An instance giving a matching lower bound is for
example the set $\{\,\frac{1-n}{2},\ldots,\frac{n-1}{2}\,\}$ (for odd $n$)
with $\frac{3}{4} n^2 + \frac 14$ degenerate triples.
%
One might be tempted to think that the number of ``solutions'' to the problem
would lower bound the complexity of algorithms for the decision version of the
problem, as it is the case for this problem, and other problems, in restricted
models of computation~\cite{Er96,Er99a}.
%In Erickson~\cite{Er99a}, it is shown that we cannot solve 3SUM in
%subquadratic time in the \(3\)-linear decision tree model:
%\begin{theorem}[Erickson~\cite{Er99a}]
%The optimal depth of a \(k\)-linear decision tree that solves
%the \(k\)-LDT problem is $\Theta(n^{\lceil\frac{k}{2}\rceil})$.
%\end{theorem}
%The proof uses an adversary argument which can be explained geometrically. As
%we already observed, we can solve \(k\)-LDT problems by modeling them as point
%location problems in an arrangement of hyperplanes. Solving one such problem
%amounts to determining which cell of the arrangement contains the input point.
%The adversary argument of Erickson~\cite{Er99a} is that there exists a cell having
%$\Omega(n^{\lceil\frac{k}{2}\rceil})$ boundary facets and in this model point
%location in such a cell requires testing each facet.
%
%This is a common misconception.
This intuition is incorrect.
%
%Indeed, Gr\o nlund and Pettie~\cite{GP18} proved that there exist
%$\tilde{O}(n^{3/2})$-depth linear decision trees and $o(n^2)$-time real-RAM
%algorithms for 3SUM\@.

Baran et al.~\cite{BDP08} were the first to give subquadratic algorithms for
3SUM. They design subquadratic Las Vegas
algorithms for 3SUM on integer and
rational numbers in the circuit RAM, word RAM, external memory, and
cache-oblivious models of computation. The idea of their approach is to exploit
the parallelism of the models, using linear and universal hashing. However,
since their algorithms do not handle real inputs,
this did not settle the question of subquadratic algorithms in whole
generality.

The first subquadratic algorithms for real-input 3SUM were given by
Gr{\o}nlund and Pettie~\cite{GP18}. They prove the existence of a linear decision tree
solving the 3SUM problem using a strongly subquadratic number of linear queries.
The classical quadratic algorithm for 3SUM uses \(3\)-linear queries
while the decision tree of Gr{\o}nlund and Pettie uses \(4\)-linear queries and
requires $O(n^{\frac{3}{2}} \sqrt{\log n})$ of them.

They show how to adapt this decision tree to run in subquadratic time in the
real-RAM model. They design two subquadratic 3SUM
real-RAM algorithms. A deterministic one running in
$O(n^2/{(\log n/\log \log n)}^{\frac{2}{3}})$
time and a randomized one running in
$O(n^2 {(\log \log n)}^2 / \log n)$ time with high probability.
%These results refuted the long-lived conjecture that
%3SUM cannot be solved in subquadratic time in the RAM model.

Freund~\cite{Fr15} and Gold and Sharir~\cite{GS15} later gave improvements on the
results of Gr{\o}nlund and Pettie~\cite{GP18}. Freund~\cite{Fr15} gave a deterministic algorithm for
3SUM running in \(O( {n^2\log \log n}/{\log n})\) time.
Gold and Sharir~\cite{GS15} gave another deterministic algorithm for 3SUM
with the same running time and shaved off the $\sqrt{\log n}$ factor in the
decision tree complexities of 3SUM and \(k\)-SUM given by Gr{\o}nlund and Pettie.

Chan's and Lewenstein's algorithm? Chan's most recent log shaving?
